CREATE DATABASE `myawr`  DEFAULT CHARACTER SET utf8;

grant all on *.* to 'superuser'@'localhost' identified by "111111";

grant all on myawr.* to 'myuser'@'localhost' identified by "111111";
grant all on myawr.* to 'myuser'@'%' identified by "111111";

CREATE TABLE `myawr_cpu_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `cpu_user` float(10,2) DEFAULT NULL,
  `cpu_system` float(10,2) DEFAULT NULL,
  `cpu_idle` float(10,2) DEFAULT NULL,
  `cpu_iowait` float(10,2) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_cpu_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_cpu_info_snap_time` (`snap_time`),
  KEY `idx_myawr_cpu_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22806 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_host` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `host_name` varchar(50) NOT NULL,
  `ip_addr` varchar(50) NOT NULL,
  `port` int(11) NOT NULL DEFAULT '3306',
  `db_role` varchar(50) NOT NULL,
  `version` varchar(50) NOT NULL,
  `uptime` varchar(50) NOT NULL,
  `check_time` datetime DEFAULT NULL,
  `running_thread_threshold` int(11) DEFAULT NULL,
  `notify_emails` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;


CREATE TABLE `myawr_innodb_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `Innodb_rows_inserted` float(26,2) DEFAULT NULL,
  `Innodb_rows_updated` float(26,2) DEFAULT NULL,
  `Innodb_rows_deleted` float(26,2) DEFAULT NULL,
  `Innodb_rows_read` float(26,2) DEFAULT NULL,
  `Innodb_buffer_pool_read_requests` float(26,2) DEFAULT NULL,
  `Innodb_buffer_pool_reads` float(26,2) DEFAULT NULL,
  `Innodb_buffer_pool_pages_data` float(26,2) DEFAULT NULL,
  `Innodb_buffer_pool_pages_free` float(26,2) DEFAULT NULL,
  `Innodb_buffer_pool_pages_dirty` float(26,2) DEFAULT NULL,
  `Innodb_buffer_pool_pages_flushed` float(26,2) DEFAULT NULL,
  `Innodb_data_reads` float(26,2) DEFAULT NULL,
  `Innodb_data_writes` float(26,2) DEFAULT NULL,
  `Innodb_data_read` float(26,2) DEFAULT NULL,
  `Innodb_data_written` float(26,2) DEFAULT NULL,
  `Innodb_os_log_fsyncs` float(26,2) DEFAULT NULL,
  `Innodb_os_log_written` float(26,2) DEFAULT NULL,
  `history_list` float(26,2) DEFAULT NULL,
  `log_bytes_written` float(26,2) DEFAULT NULL,
  `log_bytes_flushed` float(26,2) DEFAULT NULL,
  `last_checkpoint` float(26,2) DEFAULT NULL,
  `queries_inside` float(26,2) DEFAULT NULL,
  `queries_queued` float(26,2) DEFAULT NULL,
  `read_views` float(26,2) DEFAULT NULL,
  `innodb_open_files` float(26,2) DEFAULT NULL,
  `innodb_log_waits` float(26,2) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_innodb_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_innodb_info_snap_time` (`snap_time`),
  KEY `idx_myawr_innodb_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22802 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_io_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `rd_ios_s` float(10,2) DEFAULT NULL,
  `wr_ios_s` float(10,2) DEFAULT NULL,
  `rkbs` float(10,2) DEFAULT NULL,
  `wkbs` float(10,2) DEFAULT NULL,
  `queue` float(10,2) DEFAULT NULL,
  `wait` float(10,2) DEFAULT NULL,
  `svc_t` float(10,2) DEFAULT NULL,
  `busy` float(10,2) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_io_info_snap_time` (`snap_time`),
  KEY `idx_myawr_io_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_io_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22806 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);

CREATE TABLE `myawr_isam_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `key_buffer_size` float(26,2) DEFAULT NULL,
  `join_buffer_size` float(26,2) DEFAULT NULL,
  `sort_buffer_size` float(26,2) DEFAULT NULL,
  `Key_blocks_not_flushed` float(26,2) DEFAULT NULL,
  `Key_blocks_unused` float(26,2) DEFAULT NULL,
  `Key_blocks_used` float(26,2) DEFAULT NULL,
  `Key_read_requests` float(26,2) DEFAULT NULL,
  `Key_reads` float(26,2) DEFAULT NULL,
  `Key_write_requests` float(26,2) DEFAULT NULL,
  `Key_writes` float(26,2) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_isam_info_snap_time` (`snap_time`),
  KEY `idx_myawr_isam_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_isam_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22802 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_load_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `load1` float(10,2) DEFAULT NULL,
  `load5` float(10,2) DEFAULT NULL,
  `load15` float(10,2) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_load_info_snap_time` (`snap_time`),
  KEY `idx_myawr_load_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_load_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22806 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);



CREATE TABLE `myawr_mysql_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `query_cache_size` float(26,2) DEFAULT NULL,
  `thread_cache_size` float(26,2) DEFAULT NULL,
  `table_definition_cache` float(26,2) DEFAULT NULL,
  `max_connections` float(26,2) DEFAULT NULL,
  `table_open_cache` float(26,2) DEFAULT NULL,
  `slow_launch_time` float(26,2) DEFAULT NULL,
  `log_slow_queries` float(26,2) DEFAULT NULL,
  `max_heap_table_size` float(26,2) DEFAULT NULL,
  `tmp_table_size` float(26,2) DEFAULT NULL,
  `open_files_limit` float(26,2) DEFAULT NULL,
  `Max_used_connections` float(26,2) DEFAULT NULL,
  `Threads_connected` float(26,2) DEFAULT NULL,
  `Threads_cached` float(26,2) DEFAULT NULL,
  `Threads_created` float(26,2) DEFAULT NULL,
  `Threads_running` float(26,2) DEFAULT NULL,
  `Connections` float(26,2) DEFAULT NULL,
  `Questions` float(26,2) DEFAULT NULL,
  `Com_select` float(26,2) DEFAULT NULL,
  `Com_insert` float(26,2) DEFAULT NULL,
  `Com_update` float(26,2) DEFAULT NULL,
  `Com_delete` float(26,2) DEFAULT NULL,
  `Bytes_received` float(26,2) DEFAULT NULL,
  `Bytes_sent` float(26,2) DEFAULT NULL,
  `Qcache_hits` float(26,2) DEFAULT NULL,
  `Qcache_inserts` float(26,2) DEFAULT NULL,
  `Select_full_join` float(26,2) DEFAULT NULL,
  `Select_scan` float(26,2) DEFAULT NULL,
  `Slow_queries` float(26,2) DEFAULT NULL,
  `Com_commit` float(26,2) DEFAULT NULL,
  `Com_rollback` float(26,2) DEFAULT NULL,
  `Open_files` float(26,2) DEFAULT NULL,
  `Open_table_definitions` float(26,2) DEFAULT NULL,
  `Open_tables` float(26,2) DEFAULT NULL,
  `Opened_files` float(26,2) DEFAULT NULL,
  `Opened_table_definitions` float(26,2) DEFAULT NULL,
  `Opened_tables` float(26,2) DEFAULT NULL,
  `Created_tmp_disk_tables` float(26,2) DEFAULT NULL,
  `Created_tmp_files` float(26,2) DEFAULT NULL,
  `Created_tmp_tables` float(26,2) DEFAULT NULL,
  `Binlog_cache_disk_use` float(26,2) DEFAULT NULL,
  `Binlog_cache_use` float(26,2) DEFAULT NULL,
  `Aborted_clients` float(26,2) DEFAULT NULL,
  `Sort_merge_passes` float(26,2) DEFAULT NULL,
  `Sort_range` float(26,2) DEFAULT NULL,
  `Sort_rows` float(26,2) DEFAULT NULL,
  `Sort_scan` float(26,2) DEFAULT NULL,
  `Table_locks_immediate` float(26,2) DEFAULT NULL,
  `Table_locks_waited` float(26,2) DEFAULT NULL,
  `Handler_read_first` float(26,2) DEFAULT NULL,
  `Handler_read_key` float(26,2) DEFAULT NULL,
  `Handler_read_last` float(26,2) DEFAULT NULL,
  `Handler_read_next` float(26,2) DEFAULT NULL,
  `Handler_read_prev` float(26,2) DEFAULT NULL,
  `Handler_read_rnd` float(26,2) DEFAULT NULL,
  `Handler_read_rnd_next` float(26,2) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_mysql_info_snap_time` (`snap_time`),
  KEY `idx_myawr_mysql_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_mysql_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22802 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);





CREATE TABLE `myawr_snapshot_events_waits_summary_global_by_event_name` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `EVENT_NAME` varchar(128) NOT NULL,
  `COUNT_STAR` bigint(20) unsigned NOT NULL,
  `SUM_TIMER_WAIT` bigint(20) unsigned NOT NULL,
  `MIN_TIMER_WAIT` bigint(20) unsigned NOT NULL,
  `AVG_TIMER_WAIT` bigint(20) unsigned NOT NULL,
  `MAX_TIMER_WAIT` bigint(20) unsigned NOT NULL,
  `snap_time` datetime DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_waits_summary_global_snap_time` (`snap_time`),
  KEY `idx_waits_summary_global_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_waits_summary_global_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5058638 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p20130510 VALUES LESS THAN (to_days('2013-05-10')) ENGINE = InnoDB,
PARTITION p20130511 VALUES LESS THAN (to_days('2013-05-11')) ENGINE = InnoDB,
PARTITION p20130512 VALUES LESS THAN (to_days('2013-05-12')) ENGINE = InnoDB,
PARTITION p20130513 VALUES LESS THAN (to_days('2013-05-13')) ENGINE = InnoDB,
PARTITION p20130514 VALUES LESS THAN (to_days('2013-05-14')) ENGINE = InnoDB,
PARTITION p20130515 VALUES LESS THAN (to_days('2013-05-15')) ENGINE = InnoDB,
PARTITION p20130516 VALUES LESS THAN (to_days('2013-05-16')) ENGINE = InnoDB,
PARTITION p20130517 VALUES LESS THAN (to_days('2013-05-17')) ENGINE = InnoDB,
PARTITION p20130518 VALUES LESS THAN (to_days('2013-05-18')) ENGINE = InnoDB,
PARTITION p20130519 VALUES LESS THAN (to_days('2013-05-19')) ENGINE = InnoDB,
PARTITION p20130520 VALUES LESS THAN (to_days('2013-05-20')) ENGINE = InnoDB,
PARTITION p20130521 VALUES LESS THAN (to_days('2013-05-21')) ENGINE = InnoDB,
PARTITION p20130522 VALUES LESS THAN (to_days('2013-05-22')) ENGINE = InnoDB,
PARTITION p20130523 VALUES LESS THAN (to_days('2013-05-23')) ENGINE = InnoDB,
PARTITION p20130524 VALUES LESS THAN (to_days('2013-05-24')) ENGINE = InnoDB,
PARTITION p20130525 VALUES LESS THAN (to_days('2013-05-25')) ENGINE = InnoDB,
PARTITION p20130526 VALUES LESS THAN (to_days('2013-05-26')) ENGINE = InnoDB,
PARTITION p20130527 VALUES LESS THAN (to_days('2013-05-27')) ENGINE = InnoDB,
PARTITION p20130528 VALUES LESS THAN (to_days('2013-05-28')) ENGINE = InnoDB,
PARTITION p20130529 VALUES LESS THAN (to_days('2013-05-29')) ENGINE = InnoDB,
PARTITION p20130530 VALUES LESS THAN (to_days('2013-05-30')) ENGINE = InnoDB,
PARTITION p20130531 VALUES LESS THAN (to_days('2013-05-31')) ENGINE = InnoDB,
PARTITION p20130601 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p20130602 VALUES LESS THAN (to_days('2013-06-02')) ENGINE = InnoDB,
PARTITION p20130603 VALUES LESS THAN (to_days('2013-06-03')) ENGINE = InnoDB,
PARTITION p20130604 VALUES LESS THAN (to_days('2013-06-04')) ENGINE = InnoDB,
PARTITION p20130605 VALUES LESS THAN (to_days('2013-06-05')) ENGINE = InnoDB,
PARTITION p20130606 VALUES LESS THAN (to_days('2013-06-06')) ENGINE = InnoDB,
PARTITION p20130607 VALUES LESS THAN (to_days('2013-06-07')) ENGINE = InnoDB,
PARTITION p20130608 VALUES LESS THAN (to_days('2013-06-08')) ENGINE = InnoDB,
PARTITION p20130609 VALUES LESS THAN (to_days('2013-06-09')) ENGINE = InnoDB,
PARTITION p20130610 VALUES LESS THAN (to_days('2013-06-10')) ENGINE = InnoDB,
PARTITION p20130611 VALUES LESS THAN (to_days('2013-06-11')) ENGINE = InnoDB,
PARTITION p20130612 VALUES LESS THAN (to_days('2013-06-12')) ENGINE = InnoDB,
PARTITION p20130613 VALUES LESS THAN (to_days('2013-06-13')) ENGINE = InnoDB,
PARTITION P20130614 VALUES LESS THAN (to_days('2013-06-14')) ENGINE = InnoDB,
PARTITION P20130615 VALUES LESS THAN (to_days('2013-06-15')) ENGINE = InnoDB,
PARTITION P20130616 VALUES LESS THAN (to_days('2013-06-16')) ENGINE = InnoDB,
PARTITION P20130617 VALUES LESS THAN (to_days('2013-06-17')) ENGINE = InnoDB,
PARTITION P20130618 VALUES LESS THAN (to_days('2013-06-18')) ENGINE = InnoDB,
PARTITION P20130619 VALUES LESS THAN (to_days('2013-06-19')) ENGINE = InnoDB,
PARTITION P20130620 VALUES LESS THAN (to_days('2013-06-20')) ENGINE = InnoDB,
PARTITION P20130621 VALUES LESS THAN (to_days('2013-06-21')) ENGINE = InnoDB,
PARTITION P20130622 VALUES LESS THAN (to_days('2013-06-22')) ENGINE = InnoDB,
PARTITION P20130623 VALUES LESS THAN (to_days('2013-06-23')) ENGINE = InnoDB,
PARTITION P20130624 VALUES LESS THAN (to_days('2013-06-24')) ENGINE = InnoDB,
PARTITION P20130625 VALUES LESS THAN (to_days('2013-06-25')) ENGINE = InnoDB,
PARTITION P20130626 VALUES LESS THAN (to_days('2013-06-26')) ENGINE = InnoDB,
PARTITION P20130627 VALUES LESS THAN (to_days('2013-06-27')) ENGINE = InnoDB,
PARTITION P20130628 VALUES LESS THAN (to_days('2013-06-28')) ENGINE = InnoDB,
PARTITION P20130629 VALUES LESS THAN (to_days('2013-06-29')) ENGINE = InnoDB,
PARTITION P20130630 VALUES LESS THAN (to_days('2013-06-30')) ENGINE = InnoDB,
PARTITION P20130701 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION P20130702 VALUES LESS THAN (to_days('2013-07-02')) ENGINE = InnoDB,
PARTITION P20130703 VALUES LESS THAN (to_days('2013-07-03')) ENGINE = InnoDB,
PARTITION P20130704 VALUES LESS THAN (to_days('2013-07-04')) ENGINE = InnoDB,
PARTITION P20130705 VALUES LESS THAN (to_days('2013-07-05')) ENGINE = InnoDB,
PARTITION P20130706 VALUES LESS THAN (to_days('2013-07-06')) ENGINE = InnoDB,
PARTITION P20130707 VALUES LESS THAN (to_days('2013-07-07')) ENGINE = InnoDB,
PARTITION P20130708 VALUES LESS THAN (to_days('2013-07-08')) ENGINE = InnoDB,
PARTITION P20130709 VALUES LESS THAN (to_days('2013-07-09')) ENGINE = InnoDB,
PARTITION P20130710 VALUES LESS THAN (to_days('2013-07-10')) ENGINE = InnoDB,
PARTITION P20130711 VALUES LESS THAN (to_days('2013-07-11')) ENGINE = InnoDB,
PARTITION P20130712 VALUES LESS THAN (to_days('2013-07-12')) ENGINE = InnoDB,
PARTITION P20130713 VALUES LESS THAN (to_days('2013-07-13')) ENGINE = InnoDB,
PARTITION P20130714 VALUES LESS THAN (to_days('2013-07-14')) ENGINE = InnoDB,
PARTITION P20130715 VALUES LESS THAN (to_days('2013-07-15')) ENGINE = InnoDB,
PARTITION P20130716 VALUES LESS THAN (to_days('2013-07-16')) ENGINE = InnoDB,
PARTITION P20130717 VALUES LESS THAN (to_days('2013-07-17')) ENGINE = InnoDB,
PARTITION P20130718 VALUES LESS THAN (to_days('2013-07-18')) ENGINE = InnoDB,
PARTITION P20130719 VALUES LESS THAN (to_days('2013-07-19')) ENGINE = InnoDB,
PARTITION P20130720 VALUES LESS THAN (to_days('2013-07-20')) ENGINE = InnoDB,
PARTITION P20130721 VALUES LESS THAN (to_days('2013-07-21')) ENGINE = InnoDB,
PARTITION P20130722 VALUES LESS THAN (to_days('2013-07-22')) ENGINE = InnoDB,
PARTITION P20130723 VALUES LESS THAN (to_days('2013-07-23')) ENGINE = InnoDB,
PARTITION P20130724 VALUES LESS THAN (to_days('2013-07-24')) ENGINE = InnoDB,
PARTITION P20130725 VALUES LESS THAN (to_days('2013-07-25')) ENGINE = InnoDB,
PARTITION P20130726 VALUES LESS THAN (to_days('2013-07-26')) ENGINE = InnoDB,
PARTITION P20130727 VALUES LESS THAN (to_days('2013-07-27')) ENGINE = InnoDB,
PARTITION P20130728 VALUES LESS THAN (to_days('2013-07-28')) ENGINE = InnoDB,
PARTITION P20130729 VALUES LESS THAN (to_days('2013-07-29')) ENGINE = InnoDB,
PARTITION P20130730 VALUES LESS THAN (to_days('2013-07-30')) ENGINE = InnoDB,
PARTITION P20130731 VALUES LESS THAN (to_days('2013-07-31')) ENGINE = InnoDB,
PARTITION P20130801 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION P20130802 VALUES LESS THAN (to_days('2013-08-02')) ENGINE = InnoDB,
PARTITION P20130803 VALUES LESS THAN (to_days('2013-08-03')) ENGINE = InnoDB,
PARTITION P20130804 VALUES LESS THAN (to_days('2013-08-04')) ENGINE = InnoDB,
PARTITION P20130805 VALUES LESS THAN (to_days('2013-08-05')) ENGINE = InnoDB,
PARTITION P20130806 VALUES LESS THAN (to_days('2013-08-06')) ENGINE = InnoDB,
PARTITION P20130807 VALUES LESS THAN (to_days('2013-08-07')) ENGINE = InnoDB,
PARTITION P20130808 VALUES LESS THAN (to_days('2013-08-08')) ENGINE = InnoDB,
PARTITION P20130809 VALUES LESS THAN (to_days('2013-08-09')) ENGINE = InnoDB,
PARTITION P20130810 VALUES LESS THAN (to_days('2013-08-10')) ENGINE = InnoDB,
PARTITION P20130811 VALUES LESS THAN (to_days('2013-08-11')) ENGINE = InnoDB,
PARTITION P20130812 VALUES LESS THAN (to_days('2013-08-12')) ENGINE = InnoDB,
PARTITION P20130813 VALUES LESS THAN (to_days('2013-08-13')) ENGINE = InnoDB,
PARTITION P20130814 VALUES LESS THAN (to_days('2013-08-14')) ENGINE = InnoDB,
PARTITION P20130815 VALUES LESS THAN (to_days('2013-08-15')) ENGINE = InnoDB,
PARTITION P20130816 VALUES LESS THAN (to_days('2013-08-16')) ENGINE = InnoDB,
PARTITION P20130817 VALUES LESS THAN (to_days('2013-08-17')) ENGINE = InnoDB,
PARTITION P20130818 VALUES LESS THAN (to_days('2013-08-18')) ENGINE = InnoDB,
PARTITION P20130819 VALUES LESS THAN (to_days('2013-08-19')) ENGINE = InnoDB,
PARTITION P20130820 VALUES LESS THAN (to_days('2013-08-20')) ENGINE = InnoDB,
PARTITION P20130821 VALUES LESS THAN (to_days('2013-08-21')) ENGINE = InnoDB,
PARTITION P20130822 VALUES LESS THAN (to_days('2013-08-22')) ENGINE = InnoDB,
PARTITION P20130823 VALUES LESS THAN (to_days('2013-08-23')) ENGINE = InnoDB,
PARTITION P20130824 VALUES LESS THAN (to_days('2013-08-24')) ENGINE = InnoDB,
PARTITION P20130825 VALUES LESS THAN (to_days('2013-08-25')) ENGINE = InnoDB,
PARTITION P20130826 VALUES LESS THAN (to_days('2013-08-26')) ENGINE = InnoDB,
PARTITION P20130827 VALUES LESS THAN (to_days('2013-08-27')) ENGINE = InnoDB,
PARTITION P20130828 VALUES LESS THAN (to_days('2013-08-28')) ENGINE = InnoDB,
PARTITION P20130829 VALUES LESS THAN (to_days('2013-08-29')) ENGINE = InnoDB,
PARTITION P20130830 VALUES LESS THAN (to_days('2013-08-30')) ENGINE = InnoDB,
PARTITION P20130831 VALUES LESS THAN (to_days('2013-08-31')) ENGINE = InnoDB,
PARTITION P20130901 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION P20130902 VALUES LESS THAN (to_days('2013-09-02')) ENGINE = InnoDB,
PARTITION P20130903 VALUES LESS THAN (to_days('2013-09-03')) ENGINE = InnoDB,
PARTITION P20130904 VALUES LESS THAN (to_days('2013-09-04')) ENGINE = InnoDB,
PARTITION P20130905 VALUES LESS THAN (to_days('2013-09-05')) ENGINE = InnoDB,
PARTITION P20130906 VALUES LESS THAN (to_days('2013-09-06')) ENGINE = InnoDB,
PARTITION P20130907 VALUES LESS THAN (to_days('2013-09-07')) ENGINE = InnoDB,
PARTITION P20130908 VALUES LESS THAN (to_days('2013-09-08')) ENGINE = InnoDB,
PARTITION P20130909 VALUES LESS THAN (to_days('2013-09-09')) ENGINE = InnoDB,
PARTITION P20130910 VALUES LESS THAN (to_days('2013-09-10')) ENGINE = InnoDB,
PARTITION P20130911 VALUES LESS THAN (to_days('2013-09-11')) ENGINE = InnoDB,
PARTITION P20130912 VALUES LESS THAN (to_days('2013-09-12')) ENGINE = InnoDB,
PARTITION P20130913 VALUES LESS THAN (to_days('2013-09-13')) ENGINE = InnoDB,
PARTITION P20130914 VALUES LESS THAN (to_days('2013-09-14')) ENGINE = InnoDB,
PARTITION P20130915 VALUES LESS THAN (to_days('2013-09-15')) ENGINE = InnoDB,
PARTITION P20130916 VALUES LESS THAN (to_days('2013-09-16')) ENGINE = InnoDB,
PARTITION P20130917 VALUES LESS THAN (to_days('2013-09-17')) ENGINE = InnoDB,
PARTITION P20130918 VALUES LESS THAN (to_days('2013-09-18')) ENGINE = InnoDB,
PARTITION P20130919 VALUES LESS THAN (to_days('2013-09-19')) ENGINE = InnoDB,
PARTITION P20130920 VALUES LESS THAN (to_days('2013-09-20')) ENGINE = InnoDB,
PARTITION P20130921 VALUES LESS THAN (to_days('2013-09-21')) ENGINE = InnoDB,
PARTITION P20130922 VALUES LESS THAN (to_days('2013-09-22')) ENGINE = InnoDB,
PARTITION P20130923 VALUES LESS THAN (to_days('2013-09-23')) ENGINE = InnoDB,
PARTITION P20130924 VALUES LESS THAN (to_days('2013-09-24')) ENGINE = InnoDB,
PARTITION P20130925 VALUES LESS THAN (to_days('2013-09-25')) ENGINE = InnoDB,
PARTITION P20130926 VALUES LESS THAN (to_days('2013-09-26')) ENGINE = InnoDB,
PARTITION P20130927 VALUES LESS THAN (to_days('2013-09-27')) ENGINE = InnoDB,
PARTITION P20130928 VALUES LESS THAN (to_days('2013-09-28')) ENGINE = InnoDB,
PARTITION P20130929 VALUES LESS THAN (to_days('2013-09-29')) ENGINE = InnoDB,
PARTITION P20130930 VALUES LESS THAN (to_days('2013-09-30')) ENGINE = InnoDB,
PARTITION P20131001 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION P20131002 VALUES LESS THAN (to_days('2013-10-02')) ENGINE = InnoDB,
PARTITION P20131003 VALUES LESS THAN (to_days('2013-10-03')) ENGINE = InnoDB,
PARTITION P20131004 VALUES LESS THAN (to_days('2013-10-04')) ENGINE = InnoDB,
PARTITION P20131005 VALUES LESS THAN (to_days('2013-10-05')) ENGINE = InnoDB,
PARTITION P20131006 VALUES LESS THAN (to_days('2013-10-06')) ENGINE = InnoDB,
PARTITION P20131007 VALUES LESS THAN (to_days('2013-10-07')) ENGINE = InnoDB,
PARTITION P20131008 VALUES LESS THAN (to_days('2013-10-08')) ENGINE = InnoDB,
PARTITION P20131009 VALUES LESS THAN (to_days('2013-10-09')) ENGINE = InnoDB,
PARTITION P20131010 VALUES LESS THAN (to_days('2013-10-10')) ENGINE = InnoDB,
PARTITION P20131011 VALUES LESS THAN (to_days('2013-10-11')) ENGINE = InnoDB,
PARTITION P20131012 VALUES LESS THAN (to_days('2013-10-12')) ENGINE = InnoDB,
PARTITION P20131013 VALUES LESS THAN (to_days('2013-10-13')) ENGINE = InnoDB,
PARTITION P20131014 VALUES LESS THAN (to_days('2013-10-14')) ENGINE = InnoDB,
PARTITION P20131015 VALUES LESS THAN (to_days('2013-10-15')) ENGINE = InnoDB,
PARTITION P20131016 VALUES LESS THAN (to_days('2013-10-16')) ENGINE = InnoDB,
PARTITION P20131017 VALUES LESS THAN (to_days('2013-10-17')) ENGINE = InnoDB,
PARTITION P20131018 VALUES LESS THAN (to_days('2013-10-18')) ENGINE = InnoDB,
PARTITION P20131019 VALUES LESS THAN (to_days('2013-10-19')) ENGINE = InnoDB,
PARTITION P20131020 VALUES LESS THAN (to_days('2013-10-20')) ENGINE = InnoDB,
PARTITION P20131021 VALUES LESS THAN (to_days('2013-10-21')) ENGINE = InnoDB,
PARTITION P20131022 VALUES LESS THAN (to_days('2013-10-22')) ENGINE = InnoDB,
PARTITION P20131023 VALUES LESS THAN (to_days('2013-10-23')) ENGINE = InnoDB,
PARTITION P20131024 VALUES LESS THAN (to_days('2013-10-24')) ENGINE = InnoDB,
PARTITION P20131025 VALUES LESS THAN (to_days('2013-10-25')) ENGINE = InnoDB,
PARTITION P20131026 VALUES LESS THAN (to_days('2013-10-26')) ENGINE = InnoDB,
PARTITION P20131027 VALUES LESS THAN (to_days('2013-10-27')) ENGINE = InnoDB,
PARTITION P20131028 VALUES LESS THAN (to_days('2013-10-28')) ENGINE = InnoDB,
PARTITION P20131029 VALUES LESS THAN (to_days('2013-10-29')) ENGINE = InnoDB,
PARTITION P20131030 VALUES LESS THAN (to_days('2013-10-30')) ENGINE = InnoDB,
PARTITION P20131031 VALUES LESS THAN (to_days('2013-10-31')) ENGINE = InnoDB,
PARTITION P20131101 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION P20131102 VALUES LESS THAN (to_days('2013-11-02')) ENGINE = InnoDB,
PARTITION P20131103 VALUES LESS THAN (to_days('2013-11-03')) ENGINE = InnoDB,
PARTITION P20131104 VALUES LESS THAN (to_days('2013-11-04')) ENGINE = InnoDB,
PARTITION P20131105 VALUES LESS THAN (to_days('2013-11-05')) ENGINE = InnoDB,
PARTITION P20131106 VALUES LESS THAN (to_days('2013-11-06')) ENGINE = InnoDB,
PARTITION P20131107 VALUES LESS THAN (to_days('2013-11-07')) ENGINE = InnoDB,
PARTITION P20131108 VALUES LESS THAN (to_days('2013-11-08')) ENGINE = InnoDB,
PARTITION P20131109 VALUES LESS THAN (to_days('2013-11-09')) ENGINE = InnoDB,
PARTITION P20131110 VALUES LESS THAN (to_days('2013-11-10')) ENGINE = InnoDB,
PARTITION P20131111 VALUES LESS THAN (to_days('2013-11-11')) ENGINE = InnoDB,
PARTITION P20131112 VALUES LESS THAN (to_days('2013-11-12')) ENGINE = InnoDB,
PARTITION P20131113 VALUES LESS THAN (to_days('2013-11-13')) ENGINE = InnoDB,
PARTITION P20131114 VALUES LESS THAN (to_days('2013-11-14')) ENGINE = InnoDB,
PARTITION P20131115 VALUES LESS THAN (to_days('2013-11-15')) ENGINE = InnoDB,
PARTITION P20131116 VALUES LESS THAN (to_days('2013-11-16')) ENGINE = InnoDB,
PARTITION P20131117 VALUES LESS THAN (to_days('2013-11-17')) ENGINE = InnoDB,
PARTITION P20131118 VALUES LESS THAN (to_days('2013-11-18')) ENGINE = InnoDB,
PARTITION P20131119 VALUES LESS THAN (to_days('2013-11-19')) ENGINE = InnoDB,
PARTITION P20131120 VALUES LESS THAN (to_days('2013-11-20')) ENGINE = InnoDB,
PARTITION P20131121 VALUES LESS THAN (to_days('2013-11-21')) ENGINE = InnoDB,
PARTITION P20131122 VALUES LESS THAN (to_days('2013-11-22')) ENGINE = InnoDB,
PARTITION P20131123 VALUES LESS THAN (to_days('2013-11-23')) ENGINE = InnoDB,
PARTITION P20131124 VALUES LESS THAN (to_days('2013-11-24')) ENGINE = InnoDB,
PARTITION P20131125 VALUES LESS THAN (to_days('2013-11-25')) ENGINE = InnoDB,
PARTITION P20131126 VALUES LESS THAN (to_days('2013-11-26')) ENGINE = InnoDB,
PARTITION P20131127 VALUES LESS THAN (to_days('2013-11-27')) ENGINE = InnoDB,
PARTITION P20131128 VALUES LESS THAN (to_days('2013-11-28')) ENGINE = InnoDB,
PARTITION P20131129 VALUES LESS THAN (to_days('2013-11-29')) ENGINE = InnoDB,
PARTITION P20131130 VALUES LESS THAN (to_days('2013-11-30')) ENGINE = InnoDB,
PARTITION P20131201 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION P20131202 VALUES LESS THAN (to_days('2013-12-02')) ENGINE = InnoDB,
PARTITION P20131203 VALUES LESS THAN (to_days('2013-12-03')) ENGINE = InnoDB,
PARTITION P20131204 VALUES LESS THAN (to_days('2013-12-04')) ENGINE = InnoDB,
PARTITION P20131205 VALUES LESS THAN (to_days('2013-12-05')) ENGINE = InnoDB,
PARTITION P20131206 VALUES LESS THAN (to_days('2013-12-06')) ENGINE = InnoDB,
PARTITION P20131207 VALUES LESS THAN (to_days('2013-12-07')) ENGINE = InnoDB,
PARTITION P20131208 VALUES LESS THAN (to_days('2013-12-08')) ENGINE = InnoDB,
PARTITION P20131209 VALUES LESS THAN (to_days('2013-12-09')) ENGINE = InnoDB,
PARTITION P20131210 VALUES LESS THAN (to_days('2013-12-10')) ENGINE = InnoDB,
PARTITION P20131211 VALUES LESS THAN (to_days('2013-12-11')) ENGINE = InnoDB,
PARTITION P20131212 VALUES LESS THAN (to_days('2013-12-12')) ENGINE = InnoDB,
PARTITION P20131213 VALUES LESS THAN (to_days('2013-12-13')) ENGINE = InnoDB,
PARTITION P20131214 VALUES LESS THAN (to_days('2013-12-14')) ENGINE = InnoDB,
PARTITION P20131215 VALUES LESS THAN (to_days('2013-12-15')) ENGINE = InnoDB,
PARTITION P20131216 VALUES LESS THAN (to_days('2013-12-16')) ENGINE = InnoDB,
PARTITION P20131217 VALUES LESS THAN (to_days('2013-12-17')) ENGINE = InnoDB,
PARTITION P20131218 VALUES LESS THAN (to_days('2013-12-18')) ENGINE = InnoDB,
PARTITION P20131219 VALUES LESS THAN (to_days('2013-12-19')) ENGINE = InnoDB,
PARTITION P20131220 VALUES LESS THAN (to_days('2013-12-20')) ENGINE = InnoDB,
PARTITION P20131221 VALUES LESS THAN (to_days('2013-12-21')) ENGINE = InnoDB,
PARTITION P20131222 VALUES LESS THAN (to_days('2013-12-22')) ENGINE = InnoDB,
PARTITION P20131223 VALUES LESS THAN (to_days('2013-12-23')) ENGINE = InnoDB,
PARTITION P20131224 VALUES LESS THAN (to_days('2013-12-24')) ENGINE = InnoDB,
PARTITION P20131225 VALUES LESS THAN (to_days('2013-12-25')) ENGINE = InnoDB,
PARTITION P20131226 VALUES LESS THAN (to_days('2013-12-26')) ENGINE = InnoDB,
PARTITION P20131227 VALUES LESS THAN (to_days('2013-12-27')) ENGINE = InnoDB,
PARTITION P20131228 VALUES LESS THAN (to_days('2013-12-28')) ENGINE = InnoDB,
PARTITION P20131229 VALUES LESS THAN (to_days('2013-12-29')) ENGINE = InnoDB,
PARTITION P20131230 VALUES LESS THAN (to_days('2013-12-30')) ENGINE = InnoDB,
PARTITION P20131231 VALUES LESS THAN (to_days('2013-12-31')) ENGINE = InnoDB,
PARTITION P20140101 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_snapshot_file_summary_by_event_name` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `EVENT_NAME` varchar(128) NOT NULL,
  `COUNT_READ` bigint(20) unsigned NOT NULL,
  `COUNT_WRITE` bigint(20) unsigned NOT NULL,
  `SUM_NUMBER_OF_BYTES_READ` bigint(20) unsigned NOT NULL,
  `SUM_NUMBER_OF_BYTES_WRITE` bigint(20) unsigned NOT NULL,
  `snap_time` datetime DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_file_summary_by_event_snap_time` (`snap_time`),
  KEY `idx_file_summary_by_event_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_file_summary_by_event_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1022861 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p20130510 VALUES LESS THAN (to_days('2013-05-10')) ENGINE = InnoDB,
PARTITION p20130511 VALUES LESS THAN (to_days('2013-05-11')) ENGINE = InnoDB,
PARTITION p20130512 VALUES LESS THAN (to_days('2013-05-12')) ENGINE = InnoDB,
PARTITION p20130513 VALUES LESS THAN (to_days('2013-05-13')) ENGINE = InnoDB,
PARTITION p20130514 VALUES LESS THAN (to_days('2013-05-14')) ENGINE = InnoDB,
PARTITION p20130515 VALUES LESS THAN (to_days('2013-05-15')) ENGINE = InnoDB,
PARTITION p20130516 VALUES LESS THAN (to_days('2013-05-16')) ENGINE = InnoDB,
PARTITION p20130517 VALUES LESS THAN (to_days('2013-05-17')) ENGINE = InnoDB,
PARTITION p20130518 VALUES LESS THAN (to_days('2013-05-18')) ENGINE = InnoDB,
PARTITION p20130519 VALUES LESS THAN (to_days('2013-05-19')) ENGINE = InnoDB,
PARTITION p20130520 VALUES LESS THAN (to_days('2013-05-20')) ENGINE = InnoDB,
PARTITION p20130521 VALUES LESS THAN (to_days('2013-05-21')) ENGINE = InnoDB,
PARTITION p20130522 VALUES LESS THAN (to_days('2013-05-22')) ENGINE = InnoDB,
PARTITION p20130523 VALUES LESS THAN (to_days('2013-05-23')) ENGINE = InnoDB,
PARTITION p20130524 VALUES LESS THAN (to_days('2013-05-24')) ENGINE = InnoDB,
PARTITION p20130525 VALUES LESS THAN (to_days('2013-05-25')) ENGINE = InnoDB,
PARTITION p20130526 VALUES LESS THAN (to_days('2013-05-26')) ENGINE = InnoDB,
PARTITION p20130527 VALUES LESS THAN (to_days('2013-05-27')) ENGINE = InnoDB,
PARTITION p20130528 VALUES LESS THAN (to_days('2013-05-28')) ENGINE = InnoDB,
PARTITION p20130529 VALUES LESS THAN (to_days('2013-05-29')) ENGINE = InnoDB,
PARTITION p20130530 VALUES LESS THAN (to_days('2013-05-30')) ENGINE = InnoDB,
PARTITION p20130531 VALUES LESS THAN (to_days('2013-05-31')) ENGINE = InnoDB,
PARTITION p20130601 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p20130602 VALUES LESS THAN (to_days('2013-06-02')) ENGINE = InnoDB,
PARTITION p20130603 VALUES LESS THAN (to_days('2013-06-03')) ENGINE = InnoDB,
PARTITION p20130604 VALUES LESS THAN (to_days('2013-06-04')) ENGINE = InnoDB,
PARTITION p20130605 VALUES LESS THAN (to_days('2013-06-05')) ENGINE = InnoDB,
PARTITION p20130606 VALUES LESS THAN (to_days('2013-06-06')) ENGINE = InnoDB,
PARTITION p20130607 VALUES LESS THAN (to_days('2013-06-07')) ENGINE = InnoDB,
PARTITION p20130608 VALUES LESS THAN (to_days('2013-06-08')) ENGINE = InnoDB,
PARTITION p20130609 VALUES LESS THAN (to_days('2013-06-09')) ENGINE = InnoDB,
PARTITION p20130610 VALUES LESS THAN (to_days('2013-06-10')) ENGINE = InnoDB,
PARTITION p20130611 VALUES LESS THAN (to_days('2013-06-11')) ENGINE = InnoDB,
PARTITION p20130612 VALUES LESS THAN (to_days('2013-06-12')) ENGINE = InnoDB,
PARTITION p20130613 VALUES LESS THAN (to_days('2013-06-13')) ENGINE = InnoDB,
PARTITION P20130614 VALUES LESS THAN (to_days('2013-06-14')) ENGINE = InnoDB,
PARTITION P20130615 VALUES LESS THAN (to_days('2013-06-15')) ENGINE = InnoDB,
PARTITION P20130616 VALUES LESS THAN (to_days('2013-06-16')) ENGINE = InnoDB,
PARTITION P20130617 VALUES LESS THAN (to_days('2013-06-17')) ENGINE = InnoDB,
PARTITION P20130618 VALUES LESS THAN (to_days('2013-06-18')) ENGINE = InnoDB,
PARTITION P20130619 VALUES LESS THAN (to_days('2013-06-19')) ENGINE = InnoDB,
PARTITION P20130620 VALUES LESS THAN (to_days('2013-06-20')) ENGINE = InnoDB,
PARTITION P20130621 VALUES LESS THAN (to_days('2013-06-21')) ENGINE = InnoDB,
PARTITION P20130622 VALUES LESS THAN (to_days('2013-06-22')) ENGINE = InnoDB,
PARTITION P20130623 VALUES LESS THAN (to_days('2013-06-23')) ENGINE = InnoDB,
PARTITION P20130624 VALUES LESS THAN (to_days('2013-06-24')) ENGINE = InnoDB,
PARTITION P20130625 VALUES LESS THAN (to_days('2013-06-25')) ENGINE = InnoDB,
PARTITION P20130626 VALUES LESS THAN (to_days('2013-06-26')) ENGINE = InnoDB,
PARTITION P20130627 VALUES LESS THAN (to_days('2013-06-27')) ENGINE = InnoDB,
PARTITION P20130628 VALUES LESS THAN (to_days('2013-06-28')) ENGINE = InnoDB,
PARTITION P20130629 VALUES LESS THAN (to_days('2013-06-29')) ENGINE = InnoDB,
PARTITION P20130630 VALUES LESS THAN (to_days('2013-06-30')) ENGINE = InnoDB,
PARTITION P20130701 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION P20130702 VALUES LESS THAN (to_days('2013-07-02')) ENGINE = InnoDB,
PARTITION P20130703 VALUES LESS THAN (to_days('2013-07-03')) ENGINE = InnoDB,
PARTITION P20130704 VALUES LESS THAN (to_days('2013-07-04')) ENGINE = InnoDB,
PARTITION P20130705 VALUES LESS THAN (to_days('2013-07-05')) ENGINE = InnoDB,
PARTITION P20130706 VALUES LESS THAN (to_days('2013-07-06')) ENGINE = InnoDB,
PARTITION P20130707 VALUES LESS THAN (to_days('2013-07-07')) ENGINE = InnoDB,
PARTITION P20130708 VALUES LESS THAN (to_days('2013-07-08')) ENGINE = InnoDB,
PARTITION P20130709 VALUES LESS THAN (to_days('2013-07-09')) ENGINE = InnoDB,
PARTITION P20130710 VALUES LESS THAN (to_days('2013-07-10')) ENGINE = InnoDB,
PARTITION P20130711 VALUES LESS THAN (to_days('2013-07-11')) ENGINE = InnoDB,
PARTITION P20130712 VALUES LESS THAN (to_days('2013-07-12')) ENGINE = InnoDB,
PARTITION P20130713 VALUES LESS THAN (to_days('2013-07-13')) ENGINE = InnoDB,
PARTITION P20130714 VALUES LESS THAN (to_days('2013-07-14')) ENGINE = InnoDB,
PARTITION P20130715 VALUES LESS THAN (to_days('2013-07-15')) ENGINE = InnoDB,
PARTITION P20130716 VALUES LESS THAN (to_days('2013-07-16')) ENGINE = InnoDB,
PARTITION P20130717 VALUES LESS THAN (to_days('2013-07-17')) ENGINE = InnoDB,
PARTITION P20130718 VALUES LESS THAN (to_days('2013-07-18')) ENGINE = InnoDB,
PARTITION P20130719 VALUES LESS THAN (to_days('2013-07-19')) ENGINE = InnoDB,
PARTITION P20130720 VALUES LESS THAN (to_days('2013-07-20')) ENGINE = InnoDB,
PARTITION P20130721 VALUES LESS THAN (to_days('2013-07-21')) ENGINE = InnoDB,
PARTITION P20130722 VALUES LESS THAN (to_days('2013-07-22')) ENGINE = InnoDB,
PARTITION P20130723 VALUES LESS THAN (to_days('2013-07-23')) ENGINE = InnoDB,
PARTITION P20130724 VALUES LESS THAN (to_days('2013-07-24')) ENGINE = InnoDB,
PARTITION P20130725 VALUES LESS THAN (to_days('2013-07-25')) ENGINE = InnoDB,
PARTITION P20130726 VALUES LESS THAN (to_days('2013-07-26')) ENGINE = InnoDB,
PARTITION P20130727 VALUES LESS THAN (to_days('2013-07-27')) ENGINE = InnoDB,
PARTITION P20130728 VALUES LESS THAN (to_days('2013-07-28')) ENGINE = InnoDB,
PARTITION P20130729 VALUES LESS THAN (to_days('2013-07-29')) ENGINE = InnoDB,
PARTITION P20130730 VALUES LESS THAN (to_days('2013-07-30')) ENGINE = InnoDB,
PARTITION P20130731 VALUES LESS THAN (to_days('2013-07-31')) ENGINE = InnoDB,
PARTITION P20130801 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION P20130802 VALUES LESS THAN (to_days('2013-08-02')) ENGINE = InnoDB,
PARTITION P20130803 VALUES LESS THAN (to_days('2013-08-03')) ENGINE = InnoDB,
PARTITION P20130804 VALUES LESS THAN (to_days('2013-08-04')) ENGINE = InnoDB,
PARTITION P20130805 VALUES LESS THAN (to_days('2013-08-05')) ENGINE = InnoDB,
PARTITION P20130806 VALUES LESS THAN (to_days('2013-08-06')) ENGINE = InnoDB,
PARTITION P20130807 VALUES LESS THAN (to_days('2013-08-07')) ENGINE = InnoDB,
PARTITION P20130808 VALUES LESS THAN (to_days('2013-08-08')) ENGINE = InnoDB,
PARTITION P20130809 VALUES LESS THAN (to_days('2013-08-09')) ENGINE = InnoDB,
PARTITION P20130810 VALUES LESS THAN (to_days('2013-08-10')) ENGINE = InnoDB,
PARTITION P20130811 VALUES LESS THAN (to_days('2013-08-11')) ENGINE = InnoDB,
PARTITION P20130812 VALUES LESS THAN (to_days('2013-08-12')) ENGINE = InnoDB,
PARTITION P20130813 VALUES LESS THAN (to_days('2013-08-13')) ENGINE = InnoDB,
PARTITION P20130814 VALUES LESS THAN (to_days('2013-08-14')) ENGINE = InnoDB,
PARTITION P20130815 VALUES LESS THAN (to_days('2013-08-15')) ENGINE = InnoDB,
PARTITION P20130816 VALUES LESS THAN (to_days('2013-08-16')) ENGINE = InnoDB,
PARTITION P20130817 VALUES LESS THAN (to_days('2013-08-17')) ENGINE = InnoDB,
PARTITION P20130818 VALUES LESS THAN (to_days('2013-08-18')) ENGINE = InnoDB,
PARTITION P20130819 VALUES LESS THAN (to_days('2013-08-19')) ENGINE = InnoDB,
PARTITION P20130820 VALUES LESS THAN (to_days('2013-08-20')) ENGINE = InnoDB,
PARTITION P20130821 VALUES LESS THAN (to_days('2013-08-21')) ENGINE = InnoDB,
PARTITION P20130822 VALUES LESS THAN (to_days('2013-08-22')) ENGINE = InnoDB,
PARTITION P20130823 VALUES LESS THAN (to_days('2013-08-23')) ENGINE = InnoDB,
PARTITION P20130824 VALUES LESS THAN (to_days('2013-08-24')) ENGINE = InnoDB,
PARTITION P20130825 VALUES LESS THAN (to_days('2013-08-25')) ENGINE = InnoDB,
PARTITION P20130826 VALUES LESS THAN (to_days('2013-08-26')) ENGINE = InnoDB,
PARTITION P20130827 VALUES LESS THAN (to_days('2013-08-27')) ENGINE = InnoDB,
PARTITION P20130828 VALUES LESS THAN (to_days('2013-08-28')) ENGINE = InnoDB,
PARTITION P20130829 VALUES LESS THAN (to_days('2013-08-29')) ENGINE = InnoDB,
PARTITION P20130830 VALUES LESS THAN (to_days('2013-08-30')) ENGINE = InnoDB,
PARTITION P20130831 VALUES LESS THAN (to_days('2013-08-31')) ENGINE = InnoDB,
PARTITION P20130901 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION P20130902 VALUES LESS THAN (to_days('2013-09-02')) ENGINE = InnoDB,
PARTITION P20130903 VALUES LESS THAN (to_days('2013-09-03')) ENGINE = InnoDB,
PARTITION P20130904 VALUES LESS THAN (to_days('2013-09-04')) ENGINE = InnoDB,
PARTITION P20130905 VALUES LESS THAN (to_days('2013-09-05')) ENGINE = InnoDB,
PARTITION P20130906 VALUES LESS THAN (to_days('2013-09-06')) ENGINE = InnoDB,
PARTITION P20130907 VALUES LESS THAN (to_days('2013-09-07')) ENGINE = InnoDB,
PARTITION P20130908 VALUES LESS THAN (to_days('2013-09-08')) ENGINE = InnoDB,
PARTITION P20130909 VALUES LESS THAN (to_days('2013-09-09')) ENGINE = InnoDB,
PARTITION P20130910 VALUES LESS THAN (to_days('2013-09-10')) ENGINE = InnoDB,
PARTITION P20130911 VALUES LESS THAN (to_days('2013-09-11')) ENGINE = InnoDB,
PARTITION P20130912 VALUES LESS THAN (to_days('2013-09-12')) ENGINE = InnoDB,
PARTITION P20130913 VALUES LESS THAN (to_days('2013-09-13')) ENGINE = InnoDB,
PARTITION P20130914 VALUES LESS THAN (to_days('2013-09-14')) ENGINE = InnoDB,
PARTITION P20130915 VALUES LESS THAN (to_days('2013-09-15')) ENGINE = InnoDB,
PARTITION P20130916 VALUES LESS THAN (to_days('2013-09-16')) ENGINE = InnoDB,
PARTITION P20130917 VALUES LESS THAN (to_days('2013-09-17')) ENGINE = InnoDB,
PARTITION P20130918 VALUES LESS THAN (to_days('2013-09-18')) ENGINE = InnoDB,
PARTITION P20130919 VALUES LESS THAN (to_days('2013-09-19')) ENGINE = InnoDB,
PARTITION P20130920 VALUES LESS THAN (to_days('2013-09-20')) ENGINE = InnoDB,
PARTITION P20130921 VALUES LESS THAN (to_days('2013-09-21')) ENGINE = InnoDB,
PARTITION P20130922 VALUES LESS THAN (to_days('2013-09-22')) ENGINE = InnoDB,
PARTITION P20130923 VALUES LESS THAN (to_days('2013-09-23')) ENGINE = InnoDB,
PARTITION P20130924 VALUES LESS THAN (to_days('2013-09-24')) ENGINE = InnoDB,
PARTITION P20130925 VALUES LESS THAN (to_days('2013-09-25')) ENGINE = InnoDB,
PARTITION P20130926 VALUES LESS THAN (to_days('2013-09-26')) ENGINE = InnoDB,
PARTITION P20130927 VALUES LESS THAN (to_days('2013-09-27')) ENGINE = InnoDB,
PARTITION P20130928 VALUES LESS THAN (to_days('2013-09-28')) ENGINE = InnoDB,
PARTITION P20130929 VALUES LESS THAN (to_days('2013-09-29')) ENGINE = InnoDB,
PARTITION P20130930 VALUES LESS THAN (to_days('2013-09-30')) ENGINE = InnoDB,
PARTITION P20131001 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION P20131002 VALUES LESS THAN (to_days('2013-10-02')) ENGINE = InnoDB,
PARTITION P20131003 VALUES LESS THAN (to_days('2013-10-03')) ENGINE = InnoDB,
PARTITION P20131004 VALUES LESS THAN (to_days('2013-10-04')) ENGINE = InnoDB,
PARTITION P20131005 VALUES LESS THAN (to_days('2013-10-05')) ENGINE = InnoDB,
PARTITION P20131006 VALUES LESS THAN (to_days('2013-10-06')) ENGINE = InnoDB,
PARTITION P20131007 VALUES LESS THAN (to_days('2013-10-07')) ENGINE = InnoDB,
PARTITION P20131008 VALUES LESS THAN (to_days('2013-10-08')) ENGINE = InnoDB,
PARTITION P20131009 VALUES LESS THAN (to_days('2013-10-09')) ENGINE = InnoDB,
PARTITION P20131010 VALUES LESS THAN (to_days('2013-10-10')) ENGINE = InnoDB,
PARTITION P20131011 VALUES LESS THAN (to_days('2013-10-11')) ENGINE = InnoDB,
PARTITION P20131012 VALUES LESS THAN (to_days('2013-10-12')) ENGINE = InnoDB,
PARTITION P20131013 VALUES LESS THAN (to_days('2013-10-13')) ENGINE = InnoDB,
PARTITION P20131014 VALUES LESS THAN (to_days('2013-10-14')) ENGINE = InnoDB,
PARTITION P20131015 VALUES LESS THAN (to_days('2013-10-15')) ENGINE = InnoDB,
PARTITION P20131016 VALUES LESS THAN (to_days('2013-10-16')) ENGINE = InnoDB,
PARTITION P20131017 VALUES LESS THAN (to_days('2013-10-17')) ENGINE = InnoDB,
PARTITION P20131018 VALUES LESS THAN (to_days('2013-10-18')) ENGINE = InnoDB,
PARTITION P20131019 VALUES LESS THAN (to_days('2013-10-19')) ENGINE = InnoDB,
PARTITION P20131020 VALUES LESS THAN (to_days('2013-10-20')) ENGINE = InnoDB,
PARTITION P20131021 VALUES LESS THAN (to_days('2013-10-21')) ENGINE = InnoDB,
PARTITION P20131022 VALUES LESS THAN (to_days('2013-10-22')) ENGINE = InnoDB,
PARTITION P20131023 VALUES LESS THAN (to_days('2013-10-23')) ENGINE = InnoDB,
PARTITION P20131024 VALUES LESS THAN (to_days('2013-10-24')) ENGINE = InnoDB,
PARTITION P20131025 VALUES LESS THAN (to_days('2013-10-25')) ENGINE = InnoDB,
PARTITION P20131026 VALUES LESS THAN (to_days('2013-10-26')) ENGINE = InnoDB,
PARTITION P20131027 VALUES LESS THAN (to_days('2013-10-27')) ENGINE = InnoDB,
PARTITION P20131028 VALUES LESS THAN (to_days('2013-10-28')) ENGINE = InnoDB,
PARTITION P20131029 VALUES LESS THAN (to_days('2013-10-29')) ENGINE = InnoDB,
PARTITION P20131030 VALUES LESS THAN (to_days('2013-10-30')) ENGINE = InnoDB,
PARTITION P20131031 VALUES LESS THAN (to_days('2013-10-31')) ENGINE = InnoDB,
PARTITION P20131101 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION P20131102 VALUES LESS THAN (to_days('2013-11-02')) ENGINE = InnoDB,
PARTITION P20131103 VALUES LESS THAN (to_days('2013-11-03')) ENGINE = InnoDB,
PARTITION P20131104 VALUES LESS THAN (to_days('2013-11-04')) ENGINE = InnoDB,
PARTITION P20131105 VALUES LESS THAN (to_days('2013-11-05')) ENGINE = InnoDB,
PARTITION P20131106 VALUES LESS THAN (to_days('2013-11-06')) ENGINE = InnoDB,
PARTITION P20131107 VALUES LESS THAN (to_days('2013-11-07')) ENGINE = InnoDB,
PARTITION P20131108 VALUES LESS THAN (to_days('2013-11-08')) ENGINE = InnoDB,
PARTITION P20131109 VALUES LESS THAN (to_days('2013-11-09')) ENGINE = InnoDB,
PARTITION P20131110 VALUES LESS THAN (to_days('2013-11-10')) ENGINE = InnoDB,
PARTITION P20131111 VALUES LESS THAN (to_days('2013-11-11')) ENGINE = InnoDB,
PARTITION P20131112 VALUES LESS THAN (to_days('2013-11-12')) ENGINE = InnoDB,
PARTITION P20131113 VALUES LESS THAN (to_days('2013-11-13')) ENGINE = InnoDB,
PARTITION P20131114 VALUES LESS THAN (to_days('2013-11-14')) ENGINE = InnoDB,
PARTITION P20131115 VALUES LESS THAN (to_days('2013-11-15')) ENGINE = InnoDB,
PARTITION P20131116 VALUES LESS THAN (to_days('2013-11-16')) ENGINE = InnoDB,
PARTITION P20131117 VALUES LESS THAN (to_days('2013-11-17')) ENGINE = InnoDB,
PARTITION P20131118 VALUES LESS THAN (to_days('2013-11-18')) ENGINE = InnoDB,
PARTITION P20131119 VALUES LESS THAN (to_days('2013-11-19')) ENGINE = InnoDB,
PARTITION P20131120 VALUES LESS THAN (to_days('2013-11-20')) ENGINE = InnoDB,
PARTITION P20131121 VALUES LESS THAN (to_days('2013-11-21')) ENGINE = InnoDB,
PARTITION P20131122 VALUES LESS THAN (to_days('2013-11-22')) ENGINE = InnoDB,
PARTITION P20131123 VALUES LESS THAN (to_days('2013-11-23')) ENGINE = InnoDB,
PARTITION P20131124 VALUES LESS THAN (to_days('2013-11-24')) ENGINE = InnoDB,
PARTITION P20131125 VALUES LESS THAN (to_days('2013-11-25')) ENGINE = InnoDB,
PARTITION P20131126 VALUES LESS THAN (to_days('2013-11-26')) ENGINE = InnoDB,
PARTITION P20131127 VALUES LESS THAN (to_days('2013-11-27')) ENGINE = InnoDB,
PARTITION P20131128 VALUES LESS THAN (to_days('2013-11-28')) ENGINE = InnoDB,
PARTITION P20131129 VALUES LESS THAN (to_days('2013-11-29')) ENGINE = InnoDB,
PARTITION P20131130 VALUES LESS THAN (to_days('2013-11-30')) ENGINE = InnoDB,
PARTITION P20131201 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION P20131202 VALUES LESS THAN (to_days('2013-12-02')) ENGINE = InnoDB,
PARTITION P20131203 VALUES LESS THAN (to_days('2013-12-03')) ENGINE = InnoDB,
PARTITION P20131204 VALUES LESS THAN (to_days('2013-12-04')) ENGINE = InnoDB,
PARTITION P20131205 VALUES LESS THAN (to_days('2013-12-05')) ENGINE = InnoDB,
PARTITION P20131206 VALUES LESS THAN (to_days('2013-12-06')) ENGINE = InnoDB,
PARTITION P20131207 VALUES LESS THAN (to_days('2013-12-07')) ENGINE = InnoDB,
PARTITION P20131208 VALUES LESS THAN (to_days('2013-12-08')) ENGINE = InnoDB,
PARTITION P20131209 VALUES LESS THAN (to_days('2013-12-09')) ENGINE = InnoDB,
PARTITION P20131210 VALUES LESS THAN (to_days('2013-12-10')) ENGINE = InnoDB,
PARTITION P20131211 VALUES LESS THAN (to_days('2013-12-11')) ENGINE = InnoDB,
PARTITION P20131212 VALUES LESS THAN (to_days('2013-12-12')) ENGINE = InnoDB,
PARTITION P20131213 VALUES LESS THAN (to_days('2013-12-13')) ENGINE = InnoDB,
PARTITION P20131214 VALUES LESS THAN (to_days('2013-12-14')) ENGINE = InnoDB,
PARTITION P20131215 VALUES LESS THAN (to_days('2013-12-15')) ENGINE = InnoDB,
PARTITION P20131216 VALUES LESS THAN (to_days('2013-12-16')) ENGINE = InnoDB,
PARTITION P20131217 VALUES LESS THAN (to_days('2013-12-17')) ENGINE = InnoDB,
PARTITION P20131218 VALUES LESS THAN (to_days('2013-12-18')) ENGINE = InnoDB,
PARTITION P20131219 VALUES LESS THAN (to_days('2013-12-19')) ENGINE = InnoDB,
PARTITION P20131220 VALUES LESS THAN (to_days('2013-12-20')) ENGINE = InnoDB,
PARTITION P20131221 VALUES LESS THAN (to_days('2013-12-21')) ENGINE = InnoDB,
PARTITION P20131222 VALUES LESS THAN (to_days('2013-12-22')) ENGINE = InnoDB,
PARTITION P20131223 VALUES LESS THAN (to_days('2013-12-23')) ENGINE = InnoDB,
PARTITION P20131224 VALUES LESS THAN (to_days('2013-12-24')) ENGINE = InnoDB,
PARTITION P20131225 VALUES LESS THAN (to_days('2013-12-25')) ENGINE = InnoDB,
PARTITION P20131226 VALUES LESS THAN (to_days('2013-12-26')) ENGINE = InnoDB,
PARTITION P20131227 VALUES LESS THAN (to_days('2013-12-27')) ENGINE = InnoDB,
PARTITION P20131228 VALUES LESS THAN (to_days('2013-12-28')) ENGINE = InnoDB,
PARTITION P20131229 VALUES LESS THAN (to_days('2013-12-29')) ENGINE = InnoDB,
PARTITION P20131230 VALUES LESS THAN (to_days('2013-12-30')) ENGINE = InnoDB,
PARTITION P20131231 VALUES LESS THAN (to_days('2013-12-31')) ENGINE = InnoDB,
PARTITION P20140101 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_snapshot` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `host_id` int(11) NOT NULL,
  `snap_time` datetime NOT NULL,
  `snap_id` int(11) DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_snapshot_snap_time` (`snap_time`),
  KEY `idx_myawr_snapshot_host_id` (`host_id`,`snap_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22805 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_swap_net_disk_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `swap_in` float(10,2) DEFAULT NULL,
  `swap_out` float(10,2) DEFAULT NULL,
  `net_recv` float(10,2) DEFAULT NULL,
  `net_send` float(10,2) DEFAULT NULL,
  `file_system` varchar(50) DEFAULT NULL,
  `total_mb` float(10,2) DEFAULT NULL,
  `used_mb` float(10,2) DEFAULT NULL,
  `used_pct` float(10,2) DEFAULT NULL,
  `mount_point` varchar(50) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
   PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_swap_net_info_snap_time` (`snap_time`),
  KEY `idx_myawr_swap_net_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_swap_net_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=22817 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_query_review` (
  `checksum` bigint(20) unsigned NOT NULL,
  `fingerprint` text NOT NULL,
  `sample` longtext NOT NULL,
  `first_seen` datetime DEFAULT NULL,
  `last_seen` datetime DEFAULT NULL,
  `reviewed_by` varchar(20) DEFAULT NULL,
  `reviewed_on` datetime DEFAULT NULL,
  `comments` text,
  `reviewed_status` varchar(24) DEFAULT NULL,
  PRIMARY KEY (`checksum`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `myawr_query_review_history` (
  `hostid_max` int(11) DEFAULT NULL,
  `db_max` varchar(64) DEFAULT NULL,
  `checksum` bigint(20) unsigned NOT NULL,
  `sample` text NOT NULL,
  `ts_min` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `ts_max` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `ts_cnt` float DEFAULT NULL,
  `Query_time_sum` float DEFAULT NULL,
  `Query_time_min` float DEFAULT NULL,
  `Query_time_max` float DEFAULT NULL,
  `Query_time_pct_95` float DEFAULT NULL,
  `Query_time_stddev` float DEFAULT NULL,
  `Query_time_median` float DEFAULT NULL,
  `Lock_time_sum` float DEFAULT NULL,
  `Lock_time_min` float DEFAULT NULL,
  `Lock_time_max` float DEFAULT NULL,
  `Lock_time_pct_95` float DEFAULT NULL,
  `Lock_time_stddev` float DEFAULT NULL,
  `Lock_time_median` float DEFAULT NULL,
  `Rows_sent_sum` float DEFAULT NULL,
  `Rows_sent_min` float DEFAULT NULL,
  `Rows_sent_max` float DEFAULT NULL,
  `Rows_sent_pct_95` float DEFAULT NULL,
  `Rows_sent_stddev` float DEFAULT NULL,
  `Rows_sent_median` float DEFAULT NULL,
  `Rows_examined_sum` float DEFAULT NULL,
  `Rows_examined_min` float DEFAULT NULL,
  `Rows_examined_max` float DEFAULT NULL,
  `Rows_examined_pct_95` float DEFAULT NULL,
  `Rows_examined_stddev` float DEFAULT NULL,
  `Rows_examined_median` float DEFAULT NULL,
  `Rows_affected_sum` float DEFAULT NULL,
  `Rows_affected_min` float DEFAULT NULL,
  `Rows_affected_max` float DEFAULT NULL,
  `Rows_affected_pct_95` float DEFAULT NULL,
  `Rows_affected_stddev` float DEFAULT NULL,
  `Rows_affected_median` float DEFAULT NULL,
  `Rows_read_sum` float DEFAULT NULL,
  `Rows_read_min` float DEFAULT NULL,
  `Rows_read_max` float DEFAULT NULL,
  `Rows_read_pct_95` float DEFAULT NULL,
  `Rows_read_stddev` float DEFAULT NULL,
  `Rows_read_median` float DEFAULT NULL,
  `Merge_passes_sum` float DEFAULT NULL,
  `Merge_passes_min` float DEFAULT NULL,
  `Merge_passes_max` float DEFAULT NULL,
  `Merge_passes_pct_95` float DEFAULT NULL,
  `Merge_passes_stddev` float DEFAULT NULL,
  `Merge_passes_median` float DEFAULT NULL,
  `InnoDB_IO_r_ops_min` float DEFAULT NULL,
  `InnoDB_IO_r_ops_max` float DEFAULT NULL,
  `InnoDB_IO_r_ops_pct_95` float DEFAULT NULL,
  `InnoDB_IO_r_ops_stddev` float DEFAULT NULL,
  `InnoDB_IO_r_ops_median` float DEFAULT NULL,
  `InnoDB_IO_r_bytes_min` float DEFAULT NULL,
  `InnoDB_IO_r_bytes_max` float DEFAULT NULL,
  `InnoDB_IO_r_bytes_pct_95` float DEFAULT NULL,
  `InnoDB_IO_r_bytes_stddev` float DEFAULT NULL,
  `InnoDB_IO_r_bytes_median` float DEFAULT NULL,
  `InnoDB_IO_r_wait_min` float DEFAULT NULL,
  `InnoDB_IO_r_wait_max` float DEFAULT NULL,
  `InnoDB_IO_r_wait_pct_95` float DEFAULT NULL,
  `InnoDB_IO_r_wait_stddev` float DEFAULT NULL,
  `InnoDB_IO_r_wait_median` float DEFAULT NULL,
  `InnoDB_rec_lock_wait_min` float DEFAULT NULL,
  `InnoDB_rec_lock_wait_max` float DEFAULT NULL,
  `InnoDB_rec_lock_wait_pct_95` float DEFAULT NULL,
  `InnoDB_rec_lock_wait_stddev` float DEFAULT NULL,
  `InnoDB_rec_lock_wait_median` float DEFAULT NULL,
  `InnoDB_queue_wait_min` float DEFAULT NULL,
  `InnoDB_queue_wait_max` float DEFAULT NULL,
  `InnoDB_queue_wait_pct_95` float DEFAULT NULL,
  `InnoDB_queue_wait_stddev` float DEFAULT NULL,
  `InnoDB_queue_wait_median` float DEFAULT NULL,
  `InnoDB_pages_distinct_min` float DEFAULT NULL,
  `InnoDB_pages_distinct_max` float DEFAULT NULL,
  `InnoDB_pages_distinct_pct_95` float DEFAULT NULL,
  `InnoDB_pages_distinct_stddev` float DEFAULT NULL,
  `InnoDB_pages_distinct_median` float DEFAULT NULL,
  `QC_Hit_cnt` float DEFAULT NULL,
  `QC_Hit_sum` float DEFAULT NULL,
  `Full_scan_cnt` float DEFAULT NULL,
  `Full_scan_sum` float DEFAULT NULL,
  `Full_join_cnt` float DEFAULT NULL,
  `Full_join_sum` float DEFAULT NULL,
  `Tmp_table_cnt` float DEFAULT NULL,
  `Tmp_table_sum` float DEFAULT NULL,
  `Tmp_table_on_disk_cnt` float DEFAULT NULL,
  `Tmp_table_on_disk_sum` float DEFAULT NULL,
  `Filesort_cnt` float DEFAULT NULL,
  `Filesort_sum` float DEFAULT NULL,
  `Filesort_on_disk_cnt` float DEFAULT NULL,
  `Filesort_on_disk_sum` float DEFAULT NULL,
  PRIMARY KEY (`checksum`,`ts_min`,`ts_max`),
  KEY `idx_myawr_query_review_history_host_id` (`hostid_max`,`ts_max`),
  KEY `idx_myawr_query_review_history_ts_max` (`ts_max`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(ts_max))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);

CREATE  TABLE `myawr_innodb_locks` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `lock_id` varchar(81) NOT NULL DEFAULT '',
  `lock_trx_id` varchar(18) NOT NULL DEFAULT '',
  `lock_mode` varchar(32) NOT NULL DEFAULT '',
  `lock_type` varchar(32) NOT NULL DEFAULT '',
  `lock_table` varchar(1024) NOT NULL DEFAULT '',
  `lock_index` varchar(1024) DEFAULT NULL,
  `lock_space` bigint(21) unsigned DEFAULT NULL,
  `lock_page` bigint(21) unsigned DEFAULT NULL,
  `lock_rec` bigint(21) unsigned DEFAULT NULL,
  `lock_data` varchar(8192) DEFAULT NULL,
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_innodb_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_innodb_info_snap_time` (`snap_time`),
  KEY `idx_myawr_innodb_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE  TABLE `myawr_innodb_trx` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `trx_id` varchar(18) NOT NULL DEFAULT '',
  `trx_state` varchar(13) NOT NULL DEFAULT '',
  `trx_started` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `trx_requested_lock_id` varchar(81) DEFAULT NULL,
  `trx_wait_started` datetime DEFAULT NULL,
  `trx_weight` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_mysql_thread_id` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_query` varchar(1024) DEFAULT NULL,
  `trx_operation_state` varchar(64) DEFAULT NULL,
  `trx_tables_in_use` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_tables_locked` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_lock_structs` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_lock_memory_bytes` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_rows_locked` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_rows_modified` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_concurrency_tickets` bigint(21) unsigned NOT NULL DEFAULT '0',
  `trx_isolation_level` varchar(16) NOT NULL DEFAULT '',
  `trx_unique_checks` int(1) NOT NULL DEFAULT '0',
  `trx_foreign_key_checks` int(1) NOT NULL DEFAULT '0',
  `trx_last_foreign_key_error` varchar(256) DEFAULT NULL,
  `trx_adaptive_hash_latched` int(1) NOT NULL DEFAULT '0',
  `trx_adaptive_hash_timeout` bigint(21) unsigned NOT NULL DEFAULT '0',
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_innodb_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_innodb_info_snap_time` (`snap_time`),
  KEY `idx_myawr_innodb_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);

CREATE  TABLE `myawr_innodb_lock_waits` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `requesting_trx_id` varchar(18) NOT NULL DEFAULT '',
  `requested_lock_id` varchar(81) NOT NULL DEFAULT '',
  `blocking_trx_id` varchar(18) NOT NULL DEFAULT '',
  `blocking_lock_id` varchar(81) NOT NULL DEFAULT '',
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_innodb_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_innodb_info_snap_time` (`snap_time`),
  KEY `idx_myawr_innodb_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE  TABLE `myawr_active_session` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `USER` varchar(16) NOT NULL DEFAULT '',
  `HOST` varchar(64) NOT NULL DEFAULT '',
  `DB` varchar(64) DEFAULT NULL,
  `COMMAND` varchar(16) NOT NULL DEFAULT '',
  `TIME` int(7) NOT NULL DEFAULT '0',
  `STATE` varchar(64) DEFAULT NULL,
  `INFO` longtext,
  `snap_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_innodb_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_innodb_info_snap_time` (`snap_time`),
  KEY `idx_myawr_innodb_info_host_id` (`host_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8
PARTITION BY RANGE (to_days(snap_time))
(
PARTITION p1305 VALUES LESS THAN (to_days('2013-06-01')) ENGINE = InnoDB,
PARTITION p1306 VALUES LESS THAN (to_days('2013-07-01')) ENGINE = InnoDB,
PARTITION p1307 VALUES LESS THAN (to_days('2013-08-01')) ENGINE = InnoDB,
PARTITION p1308 VALUES LESS THAN (to_days('2013-09-01')) ENGINE = InnoDB,
PARTITION p1309 VALUES LESS THAN (to_days('2013-10-01')) ENGINE = InnoDB,
PARTITION p1310 VALUES LESS THAN (to_days('2013-11-01')) ENGINE = InnoDB,
PARTITION p1311 VALUES LESS THAN (to_days('2013-12-01')) ENGINE = InnoDB,
PARTITION p1312 VALUES LESS THAN (to_days('2014-01-01')) ENGINE = InnoDB
);


CREATE TABLE `myawr_engine_innodb_status` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `snap_id` int(11) NOT NULL,
  `host_id` int(11) NOT NULL,
  `order_id` int(11) NOT NULL,
  `row_status` varchar(4000) DEFAULT NULL,
  `snap_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`,`snap_time`),
  KEY `idx_myawr_innodb_info_snap_host_id` (`snap_id`,`host_id`),
  KEY `idx_myawr_innodb_info_snap_time` (`snap_time`),
  KEY `idx_myawr_innodb_info_host_id` (`host_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
 PARTITION BY RANGE (to_days(snap_time))
(PARTITION p1305 VALUES LESS THAN (735385) ENGINE = InnoDB,
 PARTITION p1306 VALUES LESS THAN (735415) ENGINE = InnoDB,
 PARTITION p1307 VALUES LESS THAN (735446) ENGINE = InnoDB,
 PARTITION p1308 VALUES LESS THAN (735477) ENGINE = InnoDB,
 PARTITION p1309 VALUES LESS THAN (735507) ENGINE = InnoDB,
 PARTITION p1310 VALUES LESS THAN (735538) ENGINE = InnoDB,
 PARTITION p1311 VALUES LESS THAN (735568) ENGINE = InnoDB,
 PARTITION p1312 VALUES LESS THAN (735599) ENGINE = InnoDB);

alter  TABLE `myawr_host` add ( `times_per_hour` int(11) DEFAULT 0);

alter  TABLE `myawr_host` modify `running_thread_threshold` int(11) DEFAULT 10000;
